import { ItemData, ItemsByCategory, ItemCategory, ItemSubcategory } from '@/types/items';

export const ITEMS_DATA: ItemData[] = [
  // Raw Materials - Herbs
  {
    id: 'butsu',
    name: 'Butsu',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Basic herb used in many potion recipes. Essential for healing and mana potions.',
  },
  {
    id: 'river-stem',
    name: 'River Stem',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Common herb found near water sources. Primary ingredient for mana potions.',
  },
  {
    id: 'river-root',
    name: 'River Root',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Root herb that grows near rivers. Essential for healing potions.',
  },
  {
    id: 'blue-herb',
    name: 'Blue Special Herb',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Rare special herb with magical properties. Used in advanced potions.',
  },
  {
    id: 'yellow-herb',
    name: 'Yellow Special Herb',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Rare special herb with unique properties. Component of powerful potions.',
  },
  {
    id: 'purple-herb',
    name: 'Purple Special Herb',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Rare special herb with mystical effects. Used in high-level recipes.',
  },
  {
    id: 'orange-herb',
    name: 'Orange Special Herb',
    category: 'raw-materials',
    subcategory: 'herbs',
    description: 'Rare special herb with potent abilities. Essential for advanced mixtures.',
  },

  // Raw Materials - Other
  {
    id: 'clay-ball',
    name: 'Clay Ball',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Moldable clay used in crafting. Found near water sources.',
  },
  {
    id: 'flint',
    name: 'Flint',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Sharp stone used for making tools and weapons. Creates sparks when struck.',
  },
  {
    id: 'stick',
    name: 'Stick',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Basic wood material. Foundation for many crafted items.',
  },
  {
    id: 'stone',
    name: 'Stone',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Heavy building material. Essential for construction and tools.',
  },
  {
    id: 'hide',
    name: 'Hide',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Animal skin used for crafting armor and clothing. Obtained from hunting.',
  },
  {
    id: 'mana-crystal',
    name: 'Mana Crystal',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Magical crystal that stores mana energy. Valuable crafting component.',
  },
  {
    id: 'iron-ingot',
    name: 'Iron Ingot',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'Refined iron metal. Used for creating durable weapons and armor.',
  },
  {
    id: 'steel-ingot',
    name: 'Steel Ingot',
    category: 'raw-materials',
    subcategory: 'materials',
    description: 'High-quality metal alloy. Superior to iron for advanced equipment.',
  },

  // Weapons
  {
    id: 'flint-axe',
    name: 'Flint Axe',
    category: 'weapons',
    description: 'Basic melee weapon made from flint and stick. Good starting weapon.',
    recipe: ['flint', 'stick'],
    craftedAt: 'Workshop',
    stats: { damage: 12 },
  },
  {
    id: 'mage-masher',
    name: 'Mage Masher',
    category: 'weapons',
    description: 'Weapon effective against magic users. Causes burn and silence effects.',
    recipe: ['iron-ingot', 'mana-crystal'],
    craftedAt: 'Armory',
    stats: { damage: 18, other: ['Burns mana', 'Silences spells'] },
  },
  {
    id: 'battle-axe',
    name: 'Battle Axe',
    category: 'weapons',
    description: 'Heavy two-handed weapon with high damage output.',
    recipe: ['steel-ingot', 'stick'],
    craftedAt: 'Armory',
    stats: { damage: 25 },
  },
  {
    id: 'blowgun',
    name: 'Blowgun',
    category: 'weapons',
    description: 'Ranged weapon that fires darts. Silent and accurate.',
    recipe: ['stick', 'hide'],
    craftedAt: 'Workshop',
    stats: { damage: 8, other: ['Ranged attack', 'Silent'] },
  },

  // Armor
  {
    id: 'wood-boots',
    name: 'Wood Boots',
    category: 'armor',
    description: 'Basic foot protection made from wood.',
    recipe: ['stick', 'hide'],
    craftedAt: 'Tannery',
    stats: { armor: 2 },
  },
  {
    id: 'wood-helmet',
    name: 'Wood Helmet',
    category: 'armor',
    description: 'Simple head protection crafted from wood.',
    recipe: ['stick', 'hide'],
    craftedAt: 'Tannery',
    stats: { armor: 3 },
  },
  {
    id: 'wood-body-armor',
    name: 'Wood Body Armor',
    category: 'armor',
    description: 'Basic chest protection made from wooden plates.',
    recipe: ['stick', 'stick', 'hide'],
    craftedAt: 'Tannery',
    stats: { armor: 4 },
  },
  {
    id: 'wood-shield',
    name: 'Wood Shield',
    category: 'armor',
    description: 'Basic shield providing modest protection.',
    recipe: ['stick', 'hide'],
    craftedAt: 'Tannery',
    stats: { armor: 2, other: ['Blocks attacks'] },
  },
  {
    id: 'battle-armor',
    name: 'Battle Armor',
    category: 'armor',
    description: 'Heavy armor providing excellent protection.',
    recipe: ['steel-ingot', 'iron-ingot', 'hide'],
    craftedAt: 'Armory',
    stats: { armor: 8 },
  },
  {
    id: 'anabolic-boots',
    name: 'Anabolic Boots',
    category: 'armor',
    description: 'Enhanced boots that increase movement speed.',
    recipe: ['wood-boots', 'anabolic-potion'],
    craftedAt: 'Armory',
    stats: { armor: 3, other: ['Increased movement speed'] },
  },
  {
    id: 'battle-gloves',
    name: 'Battle Gloves',
    category: 'armor',
    description: 'Protective gloves that enhance combat effectiveness.',
    recipe: ['hide', 'iron-ingot'],
    craftedAt: 'Armory',
    stats: { armor: 2, other: ['Increased attack speed'] },
  },

  // Tools
  {
    id: 'sonar-compass',
    name: 'Sonar Compass',
    category: 'tools',
    description: 'Navigation tool that reveals nearby enemies and items.',
    recipe: ['mana-crystal', 'iron-ingot'],
    craftedAt: 'Workshop',
    stats: { other: ['Reveals enemies', 'Shows items'] },
  },
  {
    id: 'net',
    name: 'Net',
    category: 'tools',
    description: 'Trapping tool used to ensnare enemies.',
    recipe: ['stick', 'hide'],
    craftedAt: 'Workshop',
    stats: { other: ['Ensnares enemies'] },
  },
  {
    id: 'smoke-bomb',
    name: 'Smoke Bomb',
    category: 'tools',
    description: 'Creates a cloud of smoke for concealment.',
    recipe: ['clay-ball', 'special-herb'],
    craftedAt: 'Witch Doctor\'s Hut',
    stats: { other: ['Creates smoke cloud'] },
  },
  {
    id: 'bee-hive',
    name: 'Bee Hive',
    category: 'tools',
    description: 'Deployable hive that produces bees to attack enemies.',
    recipe: ['stick', 'clay-ball'],
    craftedAt: 'Workshop',
    stats: { other: ['Spawns attacking bees'] },
  },
  {
    id: 'camouflage-coat',
    name: 'Camouflage Coat',
    category: 'tools',
    description: 'Provides invisibility when not moving.',
    recipe: ['hide', 'special-herb'],
    craftedAt: 'Tannery',
    stats: { other: ['Invisibility when stationary'] },
  },
  {
    id: 'transport-ship',
    name: 'Transport Ship',
    category: 'tools',
    description: 'Allows water transportation and carries multiple trolls.',
    recipe: ['stick', 'stick', 'stick', 'hide'],
    craftedAt: 'Workshop',
    stats: { other: ['Water transport', 'Carries multiple units'] },
  },
  {
    id: 'emp-device',
    name: 'EMP Device',
    category: 'tools',
    description: 'Electronic device that disables magical effects.',
    recipe: ['mana-crystal', 'steel-ingot'],
    craftedAt: 'Workshop',
    stats: { other: ['Disables magic', 'Area effect'] },
  },

  // Healing Potions
  {
    id: 'healing-potion-1',
    name: 'Healing Potion (Level 1)',
    category: 'potions',
    subcategory: 'healing-potions',
    description: 'Basic healing potion that restores a small amount of health.',
    recipe: ['butsu', 'river-root'],
    craftedAt: 'Mixing Pot',
    stats: { health: 100 },
  },
  {
    id: 'healing-potion-2',
    name: 'Healing Potion (Level 2)',
    category: 'potions',
    subcategory: 'healing-potions',
    description: 'Improved healing potion with greater restorative power.',
    recipe: ['butsu', 'butsu', 'river-root', 'river-root'],
    craftedAt: 'Mixing Pot',
    stats: { health: 200 },
  },
  {
    id: 'healing-potion-3',
    name: 'Healing Potion (Level 3)',
    category: 'potions',
    subcategory: 'healing-potions',
    description: 'Powerful healing potion that provides substantial health recovery.',
    recipe: ['butsu', 'butsu', 'butsu', 'river-root', 'river-root', 'river-root'],
    craftedAt: 'Mixing Pot',
    stats: { health: 300 },
  },

  // Mana Potions
  {
    id: 'mana-potion-1',
    name: 'Mana Potion (Level 1)',
    category: 'potions',
    subcategory: 'mana-potions',
    description: 'Basic mana potion that restores magical energy.',
    recipe: ['butsu', 'river-stem'],
    craftedAt: 'Mixing Pot',
    stats: { mana: 100 },
  },
  {
    id: 'mana-potion-2',
    name: 'Mana Potion (Level 2)',
    category: 'potions',
    subcategory: 'mana-potions',
    description: 'Enhanced mana potion with improved restoration.',
    recipe: ['butsu', 'butsu', 'river-stem', 'river-stem'],
    craftedAt: 'Mixing Pot',
    stats: { mana: 200 },
  },
  {
    id: 'mana-potion-3',
    name: 'Mana Potion (Level 3)',
    category: 'potions',
    subcategory: 'mana-potions',
    description: 'Potent mana potion that provides significant energy recovery.',
    recipe: ['butsu', 'butsu', 'butsu', 'river-stem', 'river-stem', 'river-stem'],
    craftedAt: 'Mixing Pot',
    stats: { mana: 300 },
  },

  // Special Potions
  {
    id: 'dark-rock',
    name: 'Dark Rock',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Mysterious potion with unknown effects.',
    recipe: ['river-root', 'river-root', 'river-stem', 'river-stem', 'butsu', 'butsu'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Special effects'] },
  },
  {
    id: 'spirit-of-water',
    name: 'Spirit of Water',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Elemental potion that grants water-based abilities.',
    recipe: ['river-root', 'river-root'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Water elemental power'] },
  },
  {
    id: 'spirit-of-wind',
    name: 'Spirit of Wind',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Elemental potion that provides air manipulation.',
    recipe: ['river-stem', 'river-stem'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Wind elemental power'] },
  },
  {
    id: 'anti-magic-potion',
    name: 'Anti-Magic Potion',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Provides protection against magical attacks.',
    recipe: ['special-herb', 'special-herb'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Magic resistance'] },
  },
  {
    id: 'elemental-shield-potion',
    name: 'Elemental Shield Potion',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Creates a protective barrier against elemental damage.',
    recipe: ['river-stem', 'river-stem', 'river-stem', 'river-root', 'special-herb'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Elemental protection'] },
  },
  {
    id: 'anabolic-potion',
    name: 'Anabolic Potion',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Enhances physical capabilities and movement speed.',
    recipe: ['river-stem', 'river-stem', 'river-stem', 'river-stem', 'river-stem', 'river-stem'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Increased stats', 'Enhanced speed'] },
  },
  {
    id: 'disease-potion',
    name: 'Disease Potion',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Inflicts disease on enemies when thrown.',
    recipe: ['special-herb', 'special-herb', 'special-herb', 'special-herb', 'river-root'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Inflicts disease'] },
  },
  {
    id: 'fervor-potion',
    name: 'Fervor Potion',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Increases attack speed and combat effectiveness.',
    recipe: ['special-herb', 'special-herb', 'special-herb', 'butsu'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Increased attack speed'] },
  },
  {
    id: 'nether-potion',
    name: 'Nether Potion',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Powerful potion with otherworldly effects.',
    recipe: ['river-stem', 'river-stem', 'butsu', 'butsu', 'special-herb'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Nether effects'] },
  },
  {
    id: 'gem-of-knowledge',
    name: 'Gem of Knowledge',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Increases intelligence and learning capabilities.',
    recipe: ['blue-herb', 'yellow-herb'], // or purple-herb + orange-herb
    craftedAt: 'Mixing Pot',
    stats: { other: ['Increased intelligence'] },
  },
  {
    id: 'potion-of-twin-islands',
    name: 'Potion of Twin Islands',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Legendary potion with extraordinary powers.',
    recipe: ['blue-herb', 'blue-herb', 'blue-herb', 'yellow-herb', 'yellow-herb', 'yellow-herb'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Twin island power'] },
  },
  {
    id: 'essence-of-bees',
    name: 'Essence of Bees',
    category: 'potions',
    subcategory: 'special-potions',
    description: 'Harnesses the power of the hive mind.',
    recipe: ['blue-herb', 'yellow-herb', 'purple-herb', 'orange-herb'],
    craftedAt: 'Mixing Pot',
    stats: { other: ['Bee swarm abilities'] },
  },

  // Scrolls
  {
    id: 'scroll-living-dead',
    name: 'Scroll of Living Dead',
    category: 'scrolls',
    description: 'Summons undead minions to fight for you.',
    stats: { other: ['Summons undead'] },
  },
  {
    id: 'scroll-fireball',
    name: 'Scroll of Fireball',
    category: 'scrolls',
    description: 'Launches a powerful fireball at enemies.',
    stats: { damage: 100, other: ['Area damage', 'Fire damage'] },
  },
  {
    id: 'scroll-entangling-roots',
    name: 'Scroll of Entangling Roots',
    category: 'scrolls',
    description: 'Roots burst from the ground to trap enemies.',
    stats: { other: ['Root enemies', 'Area effect'] },
  },
  {
    id: 'scroll-stone-skin',
    name: 'Scroll of Stone Skin',
    category: 'scrolls',
    description: 'Hardens skin to provide damage reduction.',
    stats: { armor: 5, other: ['Temporary armor boost'] },
  },
  {
    id: 'scroll-cyclone',
    name: 'Scroll of Cyclone',
    category: 'scrolls',
    description: 'Creates a powerful whirlwind that damages enemies.',
    stats: { damage: 75, other: ['Wind damage', 'Knockback'] },
  },
  {
    id: 'scroll-tsunami',
    name: 'Scroll of Tsunami',
    category: 'scrolls',
    description: 'Summons a massive wave to devastate the battlefield.',
    stats: { damage: 150, other: ['Water damage', 'Area flood'] },
  },

  // Buildings - Stat Management
  {
    id: 'fire',
    name: 'Fire',
    category: 'buildings',
    subcategory: 'stat-management',
    description: 'Basic heat source for cooking and warmth.',
    recipe: ['stick', 'flint'],
    stats: { other: ['Provides heat', 'Cooking'] },
  },
  {
    id: 'mage-fire',
    name: 'Mage Fire',
    category: 'buildings',
    subcategory: 'stat-management',
    description: 'Magical fire that burns longer and hotter.',
    stats: { other: ['Enhanced heat', 'Magical cooking'] },
  },
  {
    id: 'tent',
    name: 'Tent',
    category: 'buildings',
    subcategory: 'stat-management',
    description: 'Portable shelter that provides basic comfort.',
    recipe: ['hide', 'stick'],
    stats: { other: ['Portable shelter', 'Rest bonus'] },
  },
  {
    id: 'troll-hut',
    name: 'Troll Hut',
    category: 'buildings',
    subcategory: 'stat-management',
    description: 'Basic permanent dwelling for trolls.',
    recipe: ['stick', 'stick', 'hide'],
    stats: { other: ['Permanent shelter', 'Stat regeneration'] },
  },
  {
    id: 'mud-hut',
    name: 'Mud Hut',
    category: 'buildings',
    subcategory: 'stat-management',
    description: 'Improved dwelling made from mud and sticks.',
    recipe: ['stick', 'clay-ball', 'hide'],
    stats: { other: ['Enhanced shelter', 'Better regeneration'] },
  },

  // Buildings - Storage
  {
    id: 'storage-hut',
    name: 'Storage Hut',
    category: 'buildings',
    subcategory: 'storage',
    description: 'Building for storing items and resources.',
    recipe: ['stick', 'stick', 'hide'],
    stats: { other: ['Item storage', 'Inventory expansion'] },
  },
  {
    id: 'smoke-house',
    name: 'Smoke House',
    category: 'buildings',
    subcategory: 'storage',
    description: 'Preserves meat and other perishable food.',
    recipe: ['stick', 'clay-ball'],
    stats: { other: ['Food preservation', 'Meat processing'] },
  },

  // Buildings - Crafting
  {
    id: 'armory',
    name: 'Armory',
    category: 'buildings',
    subcategory: 'crafting',
    description: 'Crafting station for weapons and heavy armor.',
    recipe: ['stone', 'iron-ingot'],
    stats: { other: ['Weapon crafting', 'Armor crafting'] },
  },
  {
    id: 'tannery',
    name: 'Tannery',
    category: 'buildings',
    subcategory: 'crafting',
    description: 'Processes hides and creates leather goods.',
    recipe: ['stick', 'hide'],
    stats: { other: ['Hide processing', 'Leather crafting'] },
  },
  {
    id: 'workshop',
    name: 'Workshop',
    category: 'buildings',
    subcategory: 'crafting',
    description: 'General crafting station for tools and basic items.',
    recipe: ['stick', 'stone'],
    stats: { other: ['Tool crafting', 'General items'] },
  },
  {
    id: 'witch-doctors-hut',
    name: 'Witch Doctor\'s Hut',
    category: 'buildings',
    subcategory: 'crafting',
    description: 'Magical crafting station for special items.',
    recipe: ['stick', 'mana-crystal'],
    stats: { other: ['Magical items', 'Special crafting'] },
  },
  {
    id: 'mixing-pot',
    name: 'Mixing Pot',
    category: 'buildings',
    subcategory: 'crafting',
    description: 'Essential station for brewing potions and mixing herbs.',
    recipe: ['clay-ball', 'stick'],
    stats: { other: ['Potion brewing', 'Herb mixing'] },
  },

  // Buildings - Defensive
  {
    id: 'omnitower',
    name: 'Omnitower',
    category: 'buildings',
    subcategory: 'defensive',
    description: 'Defensive tower that attacks enemies automatically.',
    recipe: ['stone', 'iron-ingot', 'mana-crystal'],
    stats: { damage: 50, other: ['Auto-attack', 'Area defense'] },
  },
  {
    id: 'ensnare-trap',
    name: 'Ensnare Trap',
    category: 'buildings',
    subcategory: 'defensive',
    description: 'Hidden trap that immobilizes enemies.',
    recipe: ['stick', 'hide'],
    stats: { other: ['Hidden trap', 'Immobilizes enemies'] },
  },
  {
    id: 'defense-ward',
    name: 'Defense Ward',
    category: 'buildings',
    subcategory: 'defensive',
    description: 'Magical ward that provides area protection.',
    recipe: ['mana-crystal', 'stone'],
    stats: { other: ['Area protection', 'Magic defense'] },
  },

  // Buildings - Special
  {
    id: 'spirit-ward',
    name: 'Spirit Ward',
    category: 'buildings',
    subcategory: 'special-buildings',
    description: 'Mystical structure that provides spiritual protection.',
    recipe: ['mana-crystal', 'special-herb'],
    stats: { other: ['Spiritual protection', 'Ward effects'] },
  },
  {
    id: 'teleport-beacon',
    name: 'Teleport Beacon',
    category: 'buildings',
    subcategory: 'special-buildings',
    description: 'Allows instant travel between beacons.',
    recipe: ['mana-crystal', 'mana-crystal', 'stone'],
    stats: { other: ['Teleportation', 'Fast travel'] },
  },
  {
    id: 'hatchery',
    name: 'Hatchery',
    category: 'buildings',
    subcategory: 'special-buildings',
    description: 'Breeding ground for animals and creatures.',
    recipe: ['stick', 'clay-ball', 'hide'],
    stats: { other: ['Animal breeding', 'Creature spawning'] },
  },
  {
    id: 'craftmaster',
    name: 'Craftmaster',
    category: 'buildings',
    subcategory: 'special-buildings',
    description: 'Ultimate crafting station with advanced capabilities.',
    recipe: ['steel-ingot', 'mana-crystal', 'mana-crystal'],
    stats: { other: ['Advanced crafting', 'All recipes available'] },
  },
];

export const ITEMS_BY_CATEGORY: ItemsByCategory = ITEMS_DATA.reduce((acc, item) => {
  if (!acc[item.category]) {
    acc[item.category] = [];
  }
  acc[item.category].push(item);
  return acc;
}, {} as ItemsByCategory);

export function getItemById(id: string): ItemData | undefined {
  return ITEMS_DATA.find(item => item.id === id);
}

export function getItemsByCategory(category: ItemCategory): ItemData[] {
  return ITEMS_BY_CATEGORY[category] || [];
}

export function getItemsBySubcategory(subcategory: ItemSubcategory): ItemData[] {
  return ITEMS_DATA.filter(item => item.subcategory === subcategory);
}

export function searchItems(query: string): ItemData[] {
  const lowercaseQuery = query.toLowerCase();
  return ITEMS_DATA.filter(item => 
    item.name.toLowerCase().includes(lowercaseQuery) ||
    item.description.toLowerCase().includes(lowercaseQuery) ||
    item.recipe?.some(ingredient => ingredient.toLowerCase().includes(lowercaseQuery))
  );
}
